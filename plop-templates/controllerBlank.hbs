import { injectable } from 'tsyringe';
import {
	Body,
	Controller,
	Get,
	Path,
	Post,
	Route,
	SuccessResponse,
} from 'tsoa';
import { {{pascalCase name}} } from './{{name}}';
import { {{pascalCase name}}sService, {{pascalCase name}}CreationParams } from './{{name}}sService';

@injectable()
@Route('v{{version}}/{{name}}')
export class {{pascalCase name}}sController extends Controller {
	constructor(private {{name}}sService: {{pascalCase name}}sService) {
		super();
	}

	@Get('{id}')
	public async get{{pascalCase name}}(@Path() id: string): Promise<{{pascalCase name}}> {
		this.setStatus(200);
		return this.{{name}}sService.get(id);
	}

	@SuccessResponse('201', 'Created')
	@Post()
	public async create{{pascalCase name}}(
		@Body() requestBody: {{pascalCase name}}CreationParams,
	): Promise<void> {
		this.setStatus(201);
		this.{{name}}sService.create(requestBody);
	}
}
